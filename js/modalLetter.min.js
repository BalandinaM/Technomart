let modalFeedback=document.querySelector(".modal-feedback"),contactsButton=document.querySelector(".contacts__button"),closeButton=document.querySelector(".modal__button_close"),inputName=document.getElementById.name,inputEmail=document.getElementById.email,inputText=document.getElementById.text,modalForm=document.querySelector(".modal-form"),isStorageSupport=!0,storage="";try{storage=localStorage.getItem("name"),storage=localStorage.getItem("email")}catch(e){isStorageSupport=!1}contactsButton.addEventListener("click",function(e){e.preventDefault(),modalFeedback.classList.add("active"),storage&&(inputName.value=storage,inputEmail.focus()),storage&&(inputEmail.value=storage,inputText.focus())}),closeButton.addEventListener("click",function(e){e.preventDefault(),modalFeedback.classList.remove("active"),modalFeedback.classList.remove("modal-error")}),modalForm.addEventListener("submit",function(e){inputName.value&&inputEmail.value&&inputText.value?isStorageSupport&&(localStorage.setItem("name",inputName.value),localStorage.setItem("email",inputEmail.value)):(e.preventDefault(),modalFeedback.classList.add("modal-error"),modalFeedback.offsetWidth=modalFeedback.offsetWidth,modalFeedback.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&modalFeedback.classList.contains("active")&&(e.preventDefault(),modalFeedback.classList.remove("active"),modalFeedback.classList.remove("modal-error"))});
